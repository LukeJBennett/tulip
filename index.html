<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="assets/css/tulip.css">
    <link rel="stylesheet" href="assets/libs/foundation-5.5.3/css/foundation.css" />
    <link rel="stylesheet" href="assets/css/foundation-icons/foundation-icons.css" />
    <title>tulip</title>
  </head>
  <body class="off-canvas-wrap" data-offcanvas>
    <img id="loading" src="./assets/tulip-logo3.png" style="width:300px">
    <!-- top navigation tools -->
    <main class="inner-wrap" style="height:100%">
    <!-- START NAV -->
    <nav class="top-bar" data-topbar role="navigation">
      <!-- map Section -->
      <ul class="left">
        <li>
          <a href="#" class="button tiny radius secondary" id="zin"><i class="fi-plus"></i></a>
          <a href="#" class="button tiny radius secondary" id="zout"><i class="fi-minus"></i></a>
        </li>
      </ul>
      <ul class="left">
        <li>
          <a href="#" class="button dropdown tiny radius secondary" data-dropdown="layers-dropdown" aria-controls="drop1" aria-expanded="false" id="map-layers">
            <i class="fi-map"></i>
          </a>
          <ul id="layers-dropdown" data-dropdown-content class="f-dropdown" aria-hidden="true">
            <li><a href="#" id="map-hybrid-layer" class="selected" >Hybrid <i class="fi-check"></i></a></li>
            <li><a href="#" id="map-satellite-layer">Satellite <i class="fi-check hide"></i></a></li>
            <li><a href="#" id="map-roadmap-layer">Roadmap <i class="fi-check hide"></i></a></li>
            <li><a href="#" id="map-terrain-layer">Terrain <i class="fi-check hide"></i></a></li>
          </ul>
        </li>
      </ul>
      <ul class="left">
        <li>
          <span data-tooltip aria-haspopup="true" class="map-rotate-notice has-tip button tiny radius alert" style="display: none;" title="Map interaction other than zoom is disabled when map is rotated.">
            <i class="fi-alert"></i>
          </span>
          <a href="#" class="button tiny radius secondary" id="draw-route" data-tooltip aria-haspopup="true" title="When enabled prevents adding points on map click">
            <i class="fi-lock"></i>
          </a>
          <!-- maybe reourpose for snap to -->
          <!-- <a href="#" class="button tiny radius secondary" id="remove-route" data-tooltip aria-haspopup="true" title="When enabled clicking on one point then another removes all points in between.">
            <i class="fi-x-circle"></i>
          </a> -->
        </li>
      </ul>
    </nav>
    <!-- END NAV -->
    <!--  START ADVANCED MENU -->
    <aside class="right-off-canvas-menu">
        <!-- whatever you want goes here -->
        <h2>
          Menu:
        </h2>
        <ul>
          <li><a href="#" id="new-roadbook" class="main-menu button tiny radius info"><i class="fi-compass"></i> New Roadbook</a></li>
          <li><a href="#" id="open-roadbook" class="main-menu button tiny radius info"><i class="fi-folder"></i> Open Roadbook</a></li>
          <hr>
          <li><a href="#" id="import-gpx" class="main-menu button tiny radius"><i class="fi-download"></i> Import GPX</a></li>
          <!-- <li><a href="#" class="main-menu button tiny radius disabled"><i class="fi-download"></i> Import Waypoints</a></li> -->
          <!-- <hr> -->
          <li><a href="#" id="export-gpx" class="main-menu button tiny radius"><i class="fi-map"></i> Export GPX</a></li>
          <!-- <li><a href="#" class="main-menu button tiny radius disabled"><i class="fi-upload"></i> Export Waypoints</a></li> -->
          <li><a href="#" id="print-roadbook" class="main-menu button tiny radius"><i class="fi-print"></i> Export PDF</a></li>
          <hr>
        </ul>
        <a href="./test/test.html" target="_blank" style="float:right;color:#666;margin-right:20px;"><i class="fi-skull"></i></a>
    </aside>
    <!--  END ADVANCED MENU -->
    <!--  START CONTENT -->
    <div id="content">
      <div class="content-container">
        <!-- <div class='map-container column' > -->
          <div id="map">
          </div>
        <!-- </div> -->
        <div class='roadbook-container collapsed'>
          <div class="row" id="roadbook-header">
            <div class="large-3 column title">
              Tulip
            </div>
            <div class="large-5 column menu">
              <a href="#" class="button tiny radius secondary" id="save-roadbook" data-tooltip aria-haspopup="true" class="has-tip button tiny radius alert" title="Click to save. Shift+click to 'Save as'">
                <i class="fi-save"></i>
              </a>
              <a href="#" class="button tiny radius secondary" id="toggle-roadbook"><i class="fi-arrow-down"></i></a>
              <a href="#" class="button tiny radius secondary right-off-canvas-toggle" id="main-menu"><i class="fi-list"></i></a>
            </div>
          </div>
          <div id="roadbook">
            <div class="row roadbook-info">
              <hr>
              <div id="roadbook-total-distance" class="large-4 column">
                Total Kilometers:
                <p data-bind="text: app.roadbook.totalDistance"></p>
              </div>
              <div id="roadbook-name" class="large-8 column">
                <a class="button tiny round alert hide-editor" title="Hide editor.">&#215;</a>
                <a href=# class="button tiny radius secondary show-editor rb-name"><i class="fi-pencil"></i></a>
                <p href="#" data-bind="text: app.roadbook.name"></p>
                <div class="roadbook-header-input-container">
                  <input type="text" placeholder="Roadbook Name" data-bind="textInput: app.roadbook.name"/>
                </div>
              </div>
            </div>
            <div class="row roadbook-info">
              <hr>
              <div id="roadbook-desc" class="large-12 column">
                <a class="button tiny round alert hide-editor rb-desc" title="Hide editor.">&#215;</a>
                <a href=# class="button tiny radius secondary show-editor rb-desc"><i class="fi-pencil"></i></a>
                <p data-bind="html: app.roadbook.desc"></p>
                <div class="roadbook-header-input-container">
                  <div id="description-toolbar">
                    <select class="ql-size" style="width:25%">
                      <option value="10px">Small</option>
                      <option value="13px" selected>Normal</option>
                      <option value="18px">Large</option>
                      <option value="32px">Huge</option>
                    </select>
                    <!-- Add a bold button -->
                    <button class="ql-bold tiny secondary"><i class="fi-bold"></i></button>
                    <button class="ql-italic tiny secondary "><i class="fi-italic"></i></button>
                    <button class="ql-underline tiny secondary"><i class="fi-underline"></i></button>
                  </div>
                  <div id="description-editor"></div>
                </div>
                <hr>
              </div>
            </div>
            <!-- render waypoint templates here -->
            <div id="roadbook-waypoints" data-bind="template: { name: 'waypoint-template', foreach: app.roadbook.waypoints }"></div>
            <!--  palette for editing waypoint content -->
            <div id="waypoint-palette">
              <div class="row">
                <div class="large-12 column text-right">
                  <span data-tooltip aria-haspopup="true" class="map-rotate-notice has-tip button tiny radius alert" style="display: none;" title="Map interaction other than zoom is disabled when map is rotated.">
                    <i class="fi-alert"></i>
                  </span>
                  <a id="orient-map" class="button tiny round success" title="Orient map with tulip"><i class="fi-compass"></i></a>
                  <a id="hide-palette" class="button tiny round alert" title="Hide palette.">&#215;</a>
                </div>
              </div>
              <div id="waypoint-tulip-controls" class="content active">
                <div class="row">
                  <div class="large-4 column selection-label">
                    <span data-tooltip aria-haspopup="true" class="has-tip" title="Add tracks to the tulip radiating from the center in the selected direction. Change the drawn type using the track menu">
                      Tulip tracks
                    </span>
                    <a href="#" class="button tiny radius secondary" id="track-selection" data-reveal-id="track-selection-modal"><i class="fi-list"></i></a>
                  </div>
                  <div class="large-4 column selection-label">
                    <span data-tooltip aria-haspopup="true" class="has-tip" title="Add glyphs to the tulip in the selected position">
                      Tulip glyphs
                    </span>
                  </div>
                  <div class="large-4 column selection-label">
                    <span data-tooltip aria-haspopup="true" class="has-tip" title="Add glyphs to the the note section using the button below. Click on glyphs to resize them using the slider below. Note text can be edited by typing directly into the note section and modified with the controls above">
                      Waypoint notes
                    </span>
                  </div>
                  <hr>
                </div>
                <div class="row">
                  <div class="large-4 column track-selection">
                    <div class="tl track-grid" data-angle="-45"><div><i class="fi-arrow-up"></i></div></div>
                    <div class="tm track-grid" data-angle="0"><i class="fi-arrow-up"></i></div>
                    <div class="tr track-grid" data-angle="45"><div><i class="fi-arrow-up"></i></div></div>

                    <div class="ml track-grid" data-angle="-90"><i class="fi-arrow-left"></i></div>
                    <div class="mm track-grid undo"><i class="fi-refresh"></i></div>
                    <div class="mr track-grid" data-angle="90"><i class="fi-arrow-right"></i></div>

                    <div class="ll track-grid" data-angle="-135"><div><i class="fi-arrow-down"></i></div></div>
                    <div class="lm track-grid"data-angle="180"><i class="fi-arrow-down"></i></div>
                    <div class="lr track-grid" data-angle="135"><div><i class="fi-arrow-down"></i></div></div>
                  </div>
                  <div class="left large-4 column glyph-selection">
                    <div class="tl glyph-grid" data-top="30" data-left="30"><i class="fi-plus"></i></div>
                    <div class="tm glyph-grid" data-top="30" data-left="85"><i class="fi-plus"></i></div>
                    <div class="tr glyph-grid" data-top="30" data-left="145"><i class="fi-plus"></i></div>

                    <div class="ml glyph-grid" data-top="95" data-left="30"><i class="fi-plus"></i></div>
                    <div class="mm glyph-grid undo"><i class="fi-refresh"></i></div>
                    <div class="mr glyph-grid" data-top="95" data-left="145"><i class="fi-plus"></i></div>

                    <div class="ll glyph-grid" data-top="140" data-left="30"><i class="fi-plus"></i></div>
                    <div class="lm glyph-grid" data-top="140" data-left="85"><i class="fi-plus"></i></div>
                    <div class="lr glyph-grid" data-top="140" data-left="145"><i class="fi-plus"></i></div>
                  </div>
                  <div class="left large-4 column note-tools">
                    <!--
                      START This gets repositioned over the waypoint note in edit mode
                    -->
                    <div id="note-editor-container">
                      <div id="note-toolbar" style="height:40px;margin-top: 10px;">
                        <!-- Add font size dropdown -->
                        <select class="ql-size" style="width:55%;float: left;">
                          <option value="10px">Small</option>
                          <option value="13px" selected>Normal</option>
                          <option value="18px">Large</option>
                          <option value="24px">Huge</option>
                        </select>
                        <!-- Add a bold button -->
                        <button class="ql-bold tiny secondary" style="margin-top:2px;margin-left:12px;"><i class="fi-bold"></i></button>
                      </div>
                      <div id="note-editor"></div>
                    </div>
                    <!--
                       END This gets repositioned over the waypoint note in edit mode
                    -->
                    <div class="row">
                      <div class="left large-12 column glyph-selection note-selection">
                        <div class="note-grid" data-target="add"><i class="fi-plus"></i></i></div>
                        <input type="range" min="0" max="3" value="1" id="note-glyph-range" style="margin-top:10px;width:60%;float: right;" list="note-glyph-sizes">
                        <datalist id="note-glyph-sizes">
                        	<option>0</option>
                        	<option>1</option>
                        	<option>2</option>
                        	<option>3</option>
                        </datalist>
                      </div>
                    </div>
                  </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!--  END CONTENT -->
    </main>
  </body>
  <!--
    Define templates
  -->
  <!--  waypoint template-->
  <script type="text/html" id="waypoint-template">
    <div class='waypoint row'>
      <div class='waypoint-distance'>
        <div class='total-distance'>
          <div data-bind="text: totalDistance">
          </div>
        </div>
        <div class="relative-distance">
          <div data-bind="text: distFromPrev">
          </div>
        </div>
      </div>
      <div class='waypoint-tulip'>
        <canvas data-bind="waypointCanvasRendered" width='180' height='180'>
        </canvas>
      </div>
      <div class='waypoint-note'>
        <p data-bind="html: noteHTML"></p>
        <div class='heading' >
          <label>CAP </label><span data-bind="text: heading"></span>
        </div>
      </div>
    </div>
  </script>
  <!--
    Track Modal
  -->
  <div id="track-selection-modal" class="reveal-modal" data-reveal aria-hidden="true" role="dialog">
    <h3>
      <span data-tooltip aria-haspopup="true" class="has-tip" title="Use the grid below to select the type of tracks added to the tulip, the track type the rider will enter the tulip on, and the track type the rider will exit the tulip on">
        Track Options
      </span>
      <a class="close-reveal-modal" aria-label="Close">&#215;</a>
    </h3>
    <hr>
    <div class="row">
      <div class="large-3 columns">
        <br>
        <h4>Off piste</h4>
        <br>
        <h4>Track</h4>
        <br>
        <h4>Road</h4>
        <br>
        <h4>Main Road</h4>
        <br>
        <h4>Divided Road</h4>
      </div>
      <div class="large-3 columns">
        <h4>Enter on:</h4>
          <a href="#" class="button tiny radius secondary track-selector" id="off-piste-entry">
            <img src="assets/off-piste-entry.png">
          </a>
          <a href="#" class="button tiny radius secondary track-selector" id="track-entry">
            <img src="assets/track-entry.png">
          </a>
          <a href="#" class="button tiny radius secondary track-selector" id="road-entry">
            <img src="assets/road-entry.png">
          </a>
          <a href="#" class="button tiny radius secondary track-selector" id="main-road-entry">
            <img src="assets/main-road-entry.png">
          </a>
          <a href="#" class="button tiny radius secondary track-selector" id="dcw-entry">
            <img src="assets/dcw-entry.png">
          </a>
      </div>
      <div class="large-3 columns">
        <h4>Exit on:</h4>
          <a href="#" class="button tiny radius secondary track-selector" id="off-piste-exit">
            <img src="assets/off-piste-exit.png">
          </a>
          <a href="#" class="button tiny radius secondary track-selector" id="track-exit">
            <img src="assets/track-exit.png">
          </a>
          <a href="#" class="button tiny radius secondary track-selector" id="road-exit">
            <img src="assets/road-exit.png">
          </a>
          <a href="#" class="button tiny radius secondary track-selector" id="main-road-exit">
            <img src="assets/main-road-exit.png">
          </a>
          <a href="#" class="button tiny radius secondary track-selector" id="dcw-exit">
            <img src="assets/dcw-exit.png">
          </a>
      </div>
      <div class="large-3 columns">
        <h4>Add as:</h4>
          <a href="#" class="button tiny radius secondary track-selector" id="off-piste-added">
            <img src="assets/off-piste-added.png">
          </a>
          <a href="#" class="button tiny radius secondary track-selector" id="track-added">
            <img src="assets/track-added.png">
          </a>
          <a href="#" class="button tiny radius secondary track-selector" id="road-added">
            <img src="assets/road-added.png">
          </a>
          <a href="#" class="button tiny radius secondary track-selector" id="main-road-added">
            <img src="assets/main-road-added.png">
          </a>
          <a href="#" class="button tiny radius secondary track-selector" id="dcw-added">
            <img src="assets/dcw-added.png">
          </a>
      </div>
    </div>
  </div>
  <!--
    Glyph Modal
  -->
  <div id="glyphs" class="reveal-modal glyph-modal" data-reveal aria-hidden="true" role="dialog">
    <h3>Choose from the options below to place a glyph: <a class="close-reveal-modal" aria-label="Close">&#215;</a></h3>
    <hr>
    <input id="glyph-search" placeholder="Search for a gylph"></input>
    <ul id="glyph-search-results" class="small-block-grid-5">
    </ul>
    <ul class="accordion" data-accordion>
      <li class="accordion-navigation">
        <a href="#detail-glyphs">Route Details</a>
        <div id="detail-glyphs" class="content">
          <ul class="tabs" data-tab>
            <li class="tab-title active"><a href="#description-detail">Descriptions</a></li>
            <li class="tab-title"><a href="#condition-detail">Conditions</a></li>
            <li class="tab-title"><a href="#action-detail">Actions</a></li>
          </ul>

          <div class="tabs-content">
            <div class="content active" id="description-detail">
              <ul class="small-block-grid-5">
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/bad.svg"></a><p>bad</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/many.svg"></a><p>many</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/medium.svg"></a><p>medium</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/big.svg"></a><p>big</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/more-or-less-visible.svg"></a><p>more or less visible</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/narrow.svg"></a><p>narrow</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/imperative.svg"></a><p>imperative</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/tight.svg"></a><p>tight</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/twisty.svg"></a><p>twisty</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/winding-main-track.svg"></a><p>winding main track</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/winding-track.svg"></a><p>winding track</p></li>
              </ul>
            </div>

            <div class="content" id="condition-detail">
              <ul class="small-block-grid-5">
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/collapsed.svg"></a><p>collapsed</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/dry-river.svg"></a><p>river</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/dune.svg"></a><p>dune</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/small-dune.svg"></a><p>small dune</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/gravel.svg"></a><p>gravel</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/stone.svg"></a><p>stone</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/road.svg"></a><p>road</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/rocks-text.svg"></a><p>rocks</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/rocky.svg"></a><p>rocky</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/rough.svg"></a><p>rough</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/rut.svg"></a><p>ruts</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/wash-river.svg"></a>wash/river<p></p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/vegetation.svg"></a><p>vegetation</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/sand.svg"></a><p></p></li>
              </ul>
            </div>
            <div class="content" id="action-detail">
              <ul class="small-block-grid-5">
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/left.svg"></a><p>left</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/on-the-left.svg"></a><p>on the left</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/right.svg"></a><p>right</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/on-the-right.svg"></a><p>on the right</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/left-right.svg"></a><p>left then right</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/right-left.svg"></a><p>right then left</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/keep-straight.svg"></a><p>keep straight</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/keep-straight-on-main-road.svg"></a><p>keep straight on main road</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/keep-straight-on-main-track.svg"></a><p>keep straight on main track</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/slow-down.svg"></a><p>slow down</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/always.svg"></a><p>always</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/in.svg"></a><p>in</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/leave.svg"></a><p>leave</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/average-bearing.svg"></a><p>average bearing</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/bearing.svg"></a><p>bearing (CAP)</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/between.svg"></a><p>between</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/to-take.svg"></a><p>to take</p></li>
              </ul>
            </div>
          </div>
        </div>
      </li>
      <li class="accordion-navigation">
        <a href="#track-glyphs">Track Descriptions</a>
        <div id="track-glyphs" class="content">
          <ul class="small-block-grid-5">
            <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/big.svg"></a><p>big</p></li>
            <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/big-track.svg"></a><p> big track</p></li>
            <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/main-track.svg"></a><p> main track</p></li>
            <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/off-track.svg"></a><p>off track</p></li>
            <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/off-track-forbidden.svg"></a><p>off track forbidden</p></li>
            <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/parallel-tracks.svg"></a><p>parallel tracks</p></li>
            <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/road.svg"></a><p>road</p></li>
            <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/track.svg"></a><p>track</p></li>
            <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/winding-track.svg"></a><p>winding track</p></li>
            <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/winding-main-track.svg"></a><p>winding main track</p></li>
          </ul>
        </div>
      </li>
      <li class="accordion-navigation">
        <a href="#feature-glyphs">Terrain Features</a>
        <div id="feature-glyphs" class="content">
          <ul class="tabs" data-tab>
            <li class="tab-title active"><a href="#man-made-feature">Man Made</a></li>
            <li class="tab-title"><a href="#natural-feature">Natural</a></li>
            <li class="tab-title"><a href="#symbols-feature">Symbols</a></li>
          </ul>
          <div class="tabs-content">
            <div class="content active" id="man-made-feature">
              <ul class="small-block-grid-5">
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/antenna.svg"></a><p>antenna</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/barrel.svg"></a><p>barrel</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/water-tank.svg"></a><p>water tank</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/well.svg"></a><p>well</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/billboard.svg"></a><p>billboard</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/pointy-sign.svg"></a><p>pointy sign</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/post.svg"></a><p>post</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/buildings.svg"></a><p>buildings</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/house.svg"></a><p>house</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/cemetery.svg"></a><p>cemetery</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/ruins.svg"></a><p>ruins</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/church.svg"></a><p>church</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/cairn.svg"></a><p>cairn</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/cattle-guard-1.svg"></a><p>cattle guard one</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/cattle-guard-2.svg"></a><p>cattle guard two</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/fence.svg"></a><p>fence</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/barbed-wire-fence.svg"></a><p>barbed wire fence</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/corral.svg"></a><p>corral</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/gate-barrier.svg"></a><p>gate barrier</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/low-wall.svg"></a><p>low wall</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/mine.svg"></a><p>mine</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/pumpjack.svg"></a><p>pumpjack</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/pipeline.svg"></a><p>pipeline</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/railroad.svg"></a><p>railroad</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/electric-line.svg"></a><p>electric line</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/electric-pole.svg"></a><p>electric pole</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/high-voltage-line.svg"></a><p>high voltage line</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/water-trough.svg"></a><p>water trough</p></li>
              </ul>
            </div>
            <div class="content" id="natural-feature">
              <ul class="small-block-grid-5">
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/ford.svg"></a><p>ford</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/wash.svg"></a><p>wash</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/rio.svg"></a><p>river</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/ruts.svg"></a><p>ruts</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/rocks.svg"></a><p>rocks</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/dunes.svg"></a><p>dunes</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/dunette.svg"></a><p>lil dune</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/mountain.svg"></a><p>mountain</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/mountain2.svg"></a><p>another mountain</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/undulations.svg"></a><p>undulations</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/palm-tree.svg"></a><p>palm tree</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/shrub.svg"></a><p>shrub?</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/tall-grass.svg"></a><p>tall grass</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/tree.svg"></a><p>tree</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/hill1.svg"></a><p>hill one</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/hill2.svg"></a><p>hill two</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/dunes1.svg"></a><p>dune one</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/dunes2.svg"></a><p>dune two</p></li>
              </ul>
            </div>
            <div class="content" id="symbols-feature">
              <ul class="small-block-grid-5">
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/uphill.svg"></a><p>uphill</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/downhill.svg"></a><p>downhill</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/step.svg"></a><p>step</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/step-down.svg"></a><p>step down</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/step-up.svg"></a><p>step up</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/sand-pit.svg"></a><p>sand pit</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/hole.svg"></a><p>hole</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/bump.svg"></a><p>bump</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/compression.svg"></a><p>compression</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/dip.svg"></a><p>dip</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/ditch.svg"></a><p>ditch</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/towards.svg"></a><p>towards</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/danger-3.svg"></a><p>kill</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/danger-2.svg"></a><p>maim</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/danger-1.svg"></a><p>boo-boo</p></li>
              </ul>
            </div>
          </div>
        </div>
      </li>
      <li class="accordion-navigation">
        <a href="#orga-glyphs">Orga</a>
        <div id="orga-glyphs" class="content">
          <ul class="tabs" data-tab>
            <li class="tab-title active"><a href="#orga-notices">Notices</a></li>
            <li class="tab-title"><a href="#speed-zones">Speed Zones</a></li>
          </ul>
          <div class="tabs-content">
            <div class="content active" id="orga-notices">
              <ul class="small-block-grid-5">
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/finish-of-selective-section.svg"></a><p>finish selective section</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/finish.svg"></a><p>finish</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/start-of-selective-section.svg"></a><p>start selective section</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/start.svg"></a><p>start</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/clock.svg"></a><p>time check</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/waypoint-masked.svg"></a><p>waypoint masked</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/waypoint-eclipsed.svg"></a><p>waypoint eclipsed</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/waypoint-safety.svg"></a><p>waypoint safety</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/control-point.svg"></a><p>control point</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/camp.svg"></a><p>camp</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/petrol-station.svg"></a><p>petrol station</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/village.svg"></a><p>village</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/danger-3.svg"></a><p></p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/danger-2.svg"></a><p></p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/danger-1.svg"></a><p></p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/stop.svg"></a><p></p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/sensitive-zone.svg"></a><p>sensitive zone</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/photo.svg"></a><p>photo</p></li>
              </ul>
            </div>
            <div class="content" id="speed-zones">
              <ul class="small-block-grid-5">
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/speed-start.svg"></a><p>start speed zone</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/speed-end.svg"></a><p>end speed zone</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/speed-20.svg"></a><p>20kph</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/speed-25.svg"></a><p>25kph</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/speed-30.svg"></a><p>30kph</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/speed-35.svg"></a><p>35kph</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/speed-40.svg"></a><p>40kph</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/speed-45.svg"></a><p>45kph</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/speed-50.svg"></a><p>50kph</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/speed-55.svg"></a><p>55kph</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/speed-60.svg"></a><p>60kph</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/speed-65.svg"></a><p>65kph</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/speed-70.svg"></a><p>70kph</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/speed-75.svg"></a><p>75kph</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/speed-80.svg"></a><p>80kph</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/speed-85.svg"></a><p>85kph</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/speed-90.svg"></a><p>90kph</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/speed-95.svg"></a><p>95kph</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/speed-100.svg"></a><p>100kph</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/speed-105.svg"></a><p>105kph</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/speed-110.svg"></a><p>110kph</p></li>
                <li><a class="th" href="#"><img class="glyph" src="./assets/svg/glyphs/speed-120.svg"></a><p>120kph</p></li>
              </ul>
            </div>
          </div>
        </div>
      </li>
    </ul>
  </div>

  <script>
    //Jquery sees it is running in CommonJS env, and wants to be used as such.
    window.$ = window.jQuery = require('./assets/libs/jquery-2.1.4.min.js');
  </script>
  <!--
    Load the rest of our libraries
  -->
  <script src="assets/libs/jsclass/dist/browser/js.class.min.js"></script>
  <script src="assets/libs/knockout-3.4.0.js"></script>
  <script src='assets/libs/fabric.min.js'></script>
  <script src='assets/libs/simplify.js'></script>
  <script src='assets/libs/quill/quill.min.js'></script>
  <script src='assets/libs/foundation-5.5.3/js/foundation.min.js'></script>
  <script src='assets/libs/foundation-5.5.3/js/foundation/foundation.tooltip.js'></script>
  <script src='assets/libs/foundation-5.5.3/js/vendor/modernizr.js'></script>
  <!--
    Load the application
  -->
  <script src='src/application.js'></script>
  <script src='api_keys.js'></script>
  <!--
    Load modules
    TODO move to required calls in app?
  -->
  <script src='src/modules/map-editor.js'></script>
  <script src='src/modules/map-controls.js'></script>
  <script src='src/modules/map-viewport-optimizer.js'></script>
  <script src='src/modules/glyph-controls.js'></script>
  <script src='src/modules/tracks.js'></script>
  <script src='src/modules/track-editors.js'></script>
  <script src='src/modules/track-remover.js'></script>
  <script src='src/modules/glyph-remover.js'></script>
  <script src='src/modules/tulip.js'></script>
  <script src='src/modules/notification.js'></script>
  <script src='src/modules/roadbook.js'></script>
  <script src='src/modules/waypoint.js'></script>
  <script src='src/modules/io.js'></script>
  <script>
  /*
    ---------------------------------------------------------------------------
    Instantiate the application
    ---------------------------------------------------------------------------
  */
  $(document).ready(function(){
    app = new App();
    ko.applyBindings(app.roadbook);
    $(document).foundation();

    new function(){
      var s = document.createElement( 'script' );
      s.setAttribute( 'src', "https://maps.googleapis.com/maps/api/js?key=" + api_keys.google_maps + "&callback=app.initMap" );
      document.body.appendChild( s );
    }

    function setMapSize(){
      var width = window.innerWidth;
      var height = window.innerHeight;
      var hypotenuse = Math.sqrt(Math.pow(width,2)+Math.pow(height,2));

      $('#map').css('height', hypotenuse);
      $('#map').css('width', hypotenuse);
      $('#map').css('left', (width/2)-(hypotenuse/2));
      $('#map').css('top', (height/2)-(hypotenuse/2));
    }
    setMapSize();
    $(window).resize(function(){
      setMapSize();
    })
  });
  </script>
</html>
